<!DOCTYPE html>
<html dir="auto" lang="en">
<head>
  <base href="/"> <!-- Angular routing -->
  <meta charset="UTF-8">
  <!--[if IE]>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <![endif]-->
  <title>Alert</title>
  <!-- <link href='img/apple-touch-icon-precomposed.png' rel='apple-touch-icon-precomposed' sizes='192x192'> -->
  <!-- <link href='img/favicon.ico' rel='shortcut icon' type='image/x-icon'> -->
  <meta name="theme-color" content="#ffffff">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="assets/css/main.css">
  <!--<link href="node_modules/@angular/material/core/theming/prebuilt/indigo-pink.css" rel="stylesheet">-->
  <!--[if lt IE 9]>
  <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body>
<!--[if lt IE 9]>
<p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="//browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
<![endif]-->
<div id="wrap"><!-- start #wrap -->

  <app-root></app-root>

</div><!-- end #wrap -->


  <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
  <script src="https://use.fontawesome.com/1e6803cc8c.js"></script>
  <!-- inject:js -->
  <script src="assets/js/vendor/jquery.js"></script>
  <!-- endinject -->
  <script src="assets/js/main.js"></script>

  <script>
        function initMap() {
          var uluru = {lat: -25.363, lng: 131.044};
          var map = new google.maps.Map(document.getElementById('global-map'), {
            zoom: 4,
            center: uluru,
            styles: [
              {
                elementType: "geometry",
                stylers: [
                  {
                    "color": "#b0b1b3"
                  }
                ]
              },
              {
                "elementType": "labels",
                "stylers": [
                  {
                    "visibility": "off"
                  }
                ]
              },
              {
                elementType: "labels.text.fill",
                stylers: [
                  {
                    "color": "#523735"
                  }
                ]
              },
              {
                featureType: "administrative",
                elementType: "geometry.stroke",
                stylers: [
                  {
                    "color": "#c9b2a6"
                  }
                ]
              },
              {
                featureType: "administrative.country",
                elementType: "geometry.stroke",
                stylers: [
                  {
                    "color": "#f0f0f1"
                  }
                ]
              },
              {
                featureType: "administrative.country",
                elementType: "labels",
                stylers: [
                  {
                    "visibility": "off"
                  }
                ]
              },
              {
                featureType: "administrative.land_parcel",
                "stylers": [
                  {
                    "visibility": "off"
                  }
                ]
              },
              {
                featureType: "administrative.land_parcel",
                elementType: "geometry.stroke",
                stylers: [
                  {
                    "color": "#dcd2be"
                  }
                ]
              },
              {
                featureType: "administrative.land_parcel",
                elementType: "labels.text.fill",
                stylers: [
                  {
                    "color": "#ae9e90"
                  }
                ]
              },
              {
                featureType: "administrative.locality",
                "stylers": [
                  {
                    "visibility": "off"
                  }
                ]
              },
              {
                featureType: "administrative.neighborhood",
                "stylers": [
                  {
                    "visibility": "off"
                  }
                ]
              },
              {
                featureType: "administrative.province",
                "stylers": [
                  {
                    "visibility": "off"
                  }
                ]
              },
              {
                featureType: "landscape.man_made",
                "stylers": [
                  {
                    "color": "#b0b1b3"
                  }
                ]
              },
              {
                featureType: "landscape.natural",
                elementType: "geometry.fill",
                stylers: [
                  {
                    "color": "#b0b1b3"
                  }
                ]
              },
              {
                featureType: "landscape.natural.terrain",
                "stylers": [
                  {
                    "color": "#b0b1b3"
                  }
                ]
              },
              {
                featureType: "poi",
                elementType: "geometry",
                stylers: [
                  {
                    "color": "#dfd2ae"
                  }
                ]
              },
              {
                featureType: "poi",
                elementType: "labels.text",
                stylers: [
                  {
                    "visibility": "off"
                  }
                ]
              },
              {
                featureType: "poi",
                elementType: "labels.text.fill",
                stylers: [
                  {
                    "color": "#93817c"
                  }
                ]
              },
              {
                featureType: "poi.business",
                "stylers": [
                  {
                    "visibility": "off"
                  }
                ]
              },
              {
                featureType: "poi.park",
                elementType: "geometry.fill",
                stylers: [
                  {
                    "color": "#a5b076"
                  }
                ]
              },
              {
                featureType: "poi.park",
                elementType: "labels.text.fill",
                stylers: [
                  {
                    "color": "#447530"
                  }
                ]
              },
              {
                featureType: "road",
                "stylers": [
                  {
                    "visibility": "off"
                  }
                ]
              },
              {
                featureType: "road",
                elementType: "geometry",
                stylers: [
                  {
                    "color": "#f5f1e6"
                  }
                ]
              },
              {
                featureType: "road",
                elementType: "labels",
                stylers: [
                  {
                    "visibility": "off"
                  }
                ]
              },
              {
                featureType: "road",
                elementType: "labels.icon",
                stylers: [
                  {
                    "visibility": "off"
                  }
                ]
              },
              {
                featureType: "road.arterial",
                elementType: "geometry",
                stylers: [
                  {
                    "color": "#fdfcf8"
                  }
                ]
              },
              {
                featureType: "road.highway",
                elementType: "geometry",
                stylers: [
                  {
                    "color": "#f8c967"
                  }
                ]
              },
              {
                featureType: "road.highway",
                elementType: "geometry.stroke",
                stylers: [
                  {
                    "color": "#e9bc62"
                  }
                ]
              },
              {
                featureType: "road.highway.controlled_access",
                elementType: "geometry",
                stylers: [
                  {
                    "color": "#e98d58"
                  }
                ]
              },
              {
                featureType: "road.highway.controlled_access",
                elementType: "geometry.stroke",
                stylers: [
                  {
                    "color": "#db8555"
                  }
                ]
              },
              {
                featureType: "road.local",
                elementType: "labels.text.fill",
                stylers: [
                  {
                    "color": "#806b63"
                  }
                ]
              },
              {
                featureType: "transit",
                stylers: [
                  {
                    "visibility": "off"
                  }
                ]
              },
              {
                featureType: "transit.line",
                elementType: "geometry",
                stylers: [
                  {
                    "color": "#dfd2ae"
                  }
                ]
              },
              {
                featureType: "transit.line",
                elementType: "labels.text.fill",
                stylers: [
                  {
                    "color": "#8f7d77"
                  }
                ]
              },
              {
                featureType: "transit.line",
                elementType: "labels.text.stroke",
                stylers: [
                  {
                    "color": "#ebe3cd"
                  }
                ]
              },
              {
                featureType: "transit.station",
                elementType: "geometry",
                stylers: [
                  {
                    "color": "#dfd2ae"
                  }
                ]
              },
              {
                featureType: "water",
                elementType: "geometry.fill",
                stylers: [
                  {
                    "color": "#e5eff7"
                  }
                ]
              },
              {
                featureType: "water",
                elementType: "labels.text",
                stylers: [
                  {
                    "visibility": "off"
                  }
                ]
              },
              {
                featureType: "water",
                elementType: "labels.text.fill",
                stylers: [
                  {
                    "color": "#92998d"
                  }
                ]
              }
            ]
          });

          var marker = new google.maps.Marker({
              position: uluru,
              map: map
          });

          var red = [
            "China", "Philippines"
          ];
          var yellow = [
            "Malaysia", "Russia"
          ]
          var green = [
            "Indonesia", "India"
          ]
          // var layer1;
          // var layer2;
          // var layer3;
          // done(layer1, "High", red, "#0000FF", map);
          // done(layer2, "Medium", yellow, "#E6E600", map);
          // done(layer3, "Low", green, "#0000FF", map);
          doneWithEmbeddedStyles(red, "#CD2811", yellow, "#E3A700", green, "#5BA920", map);
        }

        /** Function for where **/
        function doneWithEmbeddedStyles(red, redCol, yellow, yellowCol, green, greenCol, map) {
          console.log(arrayToQuote(red.concat(yellow.concat(green))));
          var layer = new google.maps.FusionTablesLayer({
            query: {
              select: '*',
              from: '1Y4YEcr06223cs93DmixwCGOsz4jzXW_p4UTWzPyi',
              where: arrayToQuote(red.concat(yellow.concat(green)))
            },
            styles: [
              {
                 polygonOptions: {
                   fillColor: '#f00ff9'
                 }
              },
              {
                where: arrayToQuote(red),
                polygonOptions: {
                  fillColor: redCol,
                  fillOpacity: 1.0
                }
              },
              {
                where: arrayToQuote(yellow),
                polygonOptions: {
                  fillColor: yellowCol,
                  fillOpacity: 1.0
                }
              },
              {
                where: arrayToQuote(green),
                polygonOptions: {
                  fillColor: greenCol,
                  fillOpacity: 1.0
                }
              }
            ]
          });
          layer.setMap(map);
          console.log(layer);
        }

        /** Configure colour string **/
        function colorOptions(whereString, colour) {
          var options = {
            styles: []
          };
          options.styles.push({
            where: whereString,
            polygonOptions: {
              fillColor: "#0000FF"
            }
          });
          return options;
        }

        /** Convert array of countries to string list **/
        function arrayToQuote(array) {
          if (array.length == 1) {
            return "'Name' = '" + array[0] + "'";
          } else {
            var s = "'Name' IN (";
            for (i = 0; i < array.length; i++) {
              s += "'" + array[i] + "',";
            }
            if (array.length != 0) {
              s = s.substring(0, s.length-1);
            }
            s += ")";
            return s;
          }
        }
      </script>
      <script async defer
              src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD1Bc3slcPsdbH2EhAxyhyoJlrrBs6_P_M&callback=initMap">
      </script>
  </body>
</html>
