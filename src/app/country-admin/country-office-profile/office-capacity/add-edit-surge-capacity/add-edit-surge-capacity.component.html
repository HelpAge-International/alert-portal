<app-country-admin-header></app-country-admin-header>
<app-country-admin-menu></app-country-admin-menu>

<app-status-alert [message]="alertMessage?.message" [success]="alertMessage?.type === alertMessageType.Success"
                  [show]="alertMessage"></app-status-alert>

<div class="Page-top__wrap--w_sub_header--no-paddng">
  <div class="Full-page__wrap--inner">
    <div class="row Spaced-above">
      <div *ngIf="!isEditing" class="Back--button"><a
        routerLink="/country-admin/country-office-profile/office-capacity">{{"COUNTRY_ADMIN.PROFILE.SURGE_CAPACITY.GO_BACK_TITLE_ADD"
        |
        translate}}</a></div>
      <div *ngIf="isEditing" class="Back--button"><a routerLink="/country-admin/country-office-profile/office-capacity">{{"COUNTRY_ADMIN.PROFILE.SURGE_CAPACITY.GO_BACK_TITLE_EDIT"
        | translate}}</a></div>
    </div>

    <div class="Header-title__wrap">
      <h1 *ngIf="!isEditing" class="col-sm-11">{{"COUNTRY_ADMIN.PROFILE.OFFICE_CAPACITY.ADD_SURGE_CAPACITY" | translate}}</h1>
      <h1 *ngIf="isEditing" class="col-sm-11">{{"COUNTRY_ADMIN.PROFILE.OFFICE_CAPACITY.EDIT_SURGE_CAPACITY" | translate}}</h1>
      <div class="col-sm-1 Right-aligned" *ngIf="isEditing">
        <button class="btn btn-danger text-uppercase" (click)="deleteSurge()">{{ 'DELETE' | translate }}</button>
      </div>
    </div>

    <div class="row Spaced-above">
      <strong>{{"COUNTRY_ADMIN.PROFILE.PARTNERS.ORGANISATION" | translate}}</strong>
    </div>

    <div class="row Spaced-above">
      <input class="col-sm-3 form-control" type="text" placeholder="{{'GLOBAL.PLEASE_ENTER' | translate}}"
             [(ngModel)]="modelSurgeCapacity.orgnization">
    </div>

    <div class="row Spaced-above">
      <strong>{{"COUNTRY_ADMIN.PROFILE.OFFICE_CAPACITY.TYPE_OF_RELATIONSHIP" | translate}}</strong>
      <tooltip
      [level1]= "'TOOLTIPS.COUNTRY_OFFICE_PROFILE.TT6.LEVEL1'"
      ></tooltip>
    </div>

    <div class="row Spaced-above">
      <input class="col-sm-3 form-control" type="text" placeholder="{{'GLOBAL.PLEASE_ENTER' | translate}}"
             [(ngModel)]="modelSurgeCapacity.relationship">
    </div>

    <div class="row Spaced-above">
      <!--Name-->
      <div class="col-sm-3">
        <strong class="row">{{'GLOBAL.NAME' | translate}}</strong>
      </div>

      <!--Position-->
      <div class="col-sm-3 margin-left-two">
        <strong class="row">{{"GLOBAL.USER_INFO.POSITION" | translate}}</strong>
      </div>

      <!--Email Address-->
      <div class="col-sm-3 margin-left-two">
        <strong class="row">{{"EMAIL_ADDRESS" | translate}}</strong>
      </div>
    </div>

    <div class="row">
      <input class="col-sm-3 Small-spaced form-control" type="text" placeholder="{{'GLOBAL.PLEASE_ENTER' | translate}}"
             [(ngModel)]="modelSurgeCapacity.name">
      <input class="col-sm-3 margin-left-two Small-spaced form-control" type="text" placeholder="{{'GLOBAL.PLEASE_ENTER' | translate}}"
             [(ngModel)]="modelSurgeCapacity.position">
      <input class="col-sm-3 margin-left-two Small-spaced form-control" type="email" placeholder="{{'GLOBAL.PLEASE_ENTER' | translate}}"
             [(ngModel)]="modelSurgeCapacity.email">
    </div>

    <div class="row Spaced-above">
      <strong>{{"COUNTRY_ADMIN.PROFILE.OFFICE_CAPACITY.SECTOR_OF_EXPERTISE" | translate}}</strong>
    </div>

    <div class="row Selection-row">
      <div class="Item__selectable Icon__selectable">
        <div [class.Selected]="sectorsMap.get(ResponseSectors.wash)" class="water"
             (click)="sectorClicked(ResponseSectors.wash)"></div>
        <label>{{"SECTOR_WASH" | translate}}</label></div>
      <div class="Item__selectable Icon__selectable">
        <div class="health" [class.Selected]="sectorsMap.get(ResponseSectors.health)"
             (click)="sectorClicked(ResponseSectors.health)"></div>
        <label>{{"SECTOR_HEALTH" | translate}}</label></div>
      <div class="Item__selectable Icon__selectable">
        <div [class.Selected]="sectorsMap.get(ResponseSectors.shelter)" class="shelter"
             (click)="sectorClicked(ResponseSectors.shelter)"></div>
        <label>{{"SECTOR_SHELTER" | translate}}</label></div>
      <div class="Item__selectable Icon__selectable">
        <div [class.Selected]="sectorsMap.get(ResponseSectors.nutrition)" class="nutrition"
             (click)="sectorClicked(ResponseSectors.nutrition)"></div>
        <label>{{"SECTOR_NUTRITION" | translate}}</label></div>
      <div class="Item__selectable Icon__selectable">
        <div [class.Selected]="sectorsMap.get(ResponseSectors.foodSecurityAndLivelihoods)" class="food"
             (click)="sectorClicked(ResponseSectors.foodSecurityAndLivelihoods)"></div>
        <label>{{"SECTOR_FOOD_SECURITY_LIVELIHOOD" | translate}}</label></div>
      <div class="Item__selectable Icon__selectable">
        <div [class.Selected]="sectorsMap.get(ResponseSectors.protection)" class="protection"
             (click)="sectorClicked(ResponseSectors.protection)"></div>
        <label>{{"SECTOR_PROTECTION" | translate}}</label></div>
      <div class="Item__selectable Icon__selectable">
        <div [class.Selected]="sectorsMap.get(ResponseSectors.education)" class="education"
             (click)="sectorClicked(ResponseSectors.education)"></div>
        <label>{{"SECTOR_EDUCATION" | translate}}</label></div>
      <div class="Item__selectable Icon__selectable">
        <div [class.Selected]="sectorsMap.get(ResponseSectors.campManagement)" class="camp"
             (click)="sectorClicked(ResponseSectors.campManagement)"></div>
        <label>{{"SECTOR_CAMP_MANAGEMENT" | translate}}</label></div>
    </div>

    <br>

    <div class="row">
      <strong>{{"COUNTRY_ADMIN.PROFILE.STOCK_CAPACITY.LOCATION" | translate}}</strong>
      <tooltip
      [level1]= "'TOOLTIPS.COUNTRY_OFFICE_PROFILE.TT7.LEVEL1'"
      ></tooltip>
    </div>

    <div class="row Spaced-above">
      <input class="col-sm-4 form-control" type="text" placeholder="{{'GLOBAL.PLEASE_ENTER' | translate}}"
             [(ngModel)]="modelSurgeCapacity.location">
    </div>
    <br>
    <div class="row Spaced-above">
      <strong>{{"COUNTRY_ADMIN.PROFILE.OFFICE_CAPACITY.ETA" | translate}}</strong>
    </div>

    <div class="row Spaced-above">
      <input class="col-sm-2" type="number" min="0" placeholder="{{'GLOBAL.PLEASE_ENTER' | translate}}"
             [(ngModel)]="modelSurgeCapacity.arrivalTimeValue">
      <div class="form-group-country-office-profile col-sm-2">
        <select class="form-control" id="select1" [(ngModel)]="modelSurgeCapacity.arrivalTimeType">
          <option value="1">{{"AGENCY_ADMIN.SETTINGS.DURATION_TYPE.HOURS" | translate}}</option>
          <option value="2">{{"AGENCY_ADMIN.SETTINGS.DURATION_TYPE.DAYS" | translate}}</option>
          <option value="3">{{"AGENCY_ADMIN.SETTINGS.DURATION_TYPE.WEEKS" | translate}}</option>
          <option value="4">{{"AGENCY_ADMIN.SETTINGS.DURATION_TYPE.MONTHS" | translate}}</option>
          <option value="5">{{"AGENCY_ADMIN.SETTINGS.DURATION_TYPE.YEARS" | translate}}</option>
        </select>
      </div>
    </div>

    <br>

    <div class="row Spaced-above">
      <strong>{{"COUNTRY_ADMIN.PROFILE.OFFICE_CAPACITY.LENGTH_OF_DEPLOYMENT" | translate}}</strong>
    </div>

    <div class="row Spaced-above">
      <input class="col-sm-4 form-control" type="text" placeholder="{{'GLOBAL.PLEASE_ENTER' | translate}}"
             [(ngModel)]="modelSurgeCapacity.durationOfDeployment">
    </div>
    <br>
    <br>
    <div class="row Spaced-above">
      <button class="btn btn-primary text-uppercase col-sm-1" (click)="saveSurgeCapacity()">{{"SAVE" |
        translate}}
      </button>
      <a class="padding-left-two margin-top-one" routerLink="/country-admin/country-office-profile/office-capacity">{{"GLOBAL.CANCEL"
        | translate}}</a>
    </div>

    <br>

  </div> <!--full page wrap inner end-->
</div>

<!-- Delete modal -->
<div class="modal fade" id="delete-action" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
     aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel"><strong>{{"COUNTRY_ADMIN.PROFILE.SURGE_CAPACITY.DELETE_DIALOG_TITLE"}}</strong></h5>
      </div>
      <div class="modal-body">
        <div class="text-center"><p>{{"COUNTRY_ADMIN.PROFILE.SURGE_CAPACITY.DELETE_DIALOG_CONTENT"}}</p></div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-secondary" (click)="closeModal()">{{"GLOBAL.CANCEL"| translate}}</button>
        <button type="button" class="btn btn-primary" (click)="deleteAction()">{{"GLOBAL.CONFIRM" | translate}}</button>
      </div>
    </div>
  </div>
</div>

