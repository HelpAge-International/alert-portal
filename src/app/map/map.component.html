<app-country-admin-header></app-country-admin-header>
<app-country-admin-menu></app-country-admin-menu>



<div class="Page-top__wrap--w_sub_header">
  <div class="Full-page__wrap--inner">
    <div class="Header-title__wrap">
      <h1>Global Map</h1><a href="map__list.html">See countries as a list</a>
    </div>
    <div class="Ribbon__section__wrap Spaced">
      <div id="global-map" style="height: 500px;"></div>
    </div>
    <div class="modal fade" id="minimum-prep-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
         aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="info-window container-fluid Spaced" (change)="openMinimumPreparednessModal()">
            <div class="info-window__heading row">
              <div class="col-sm-2 logo"><img src="/assets/images/donor/helpage.svg"></div>
              <div *ngIf="department.location == -1" class="col-sm-8"><h5>Loading...</h5></div>
              <div *ngIf="(department != null && department.location != -1)" class="col-sm-8"><h5>{{"GLOBAL.COUNTRIES." + getCountryCode(department.location).toUpperCase() | translate}} ({{getCountryCode(department.location)}})</h5></div>
              <div class="col-sm-2"></div>
            </div>
            <div class="info-window__subheading row">
              <div class="col">Minimum Preparedness Action (MPAs)</div>
            </div>
            <table class="table">
              <thead>
              <tr>
                <th class="col-10 text-left">Department</th>
                <th class="col-2 text-center">Preparedness</th>
              </tr>
              </thead>
              <tbody  *ngIf="(department != null && department.location != -1)">
              <tr *ngFor="let x of department.departments">
                <td>{{x.department}}</td>
                <td *ngIf="x.actionStatus >= minThreshGreen"><i class="fa fa-check-circle fa-2x text-success" aria-hidden="true"></i></td>
                <td *ngIf="x.actionStatus >= minThreshYellow && !(x.actionStatus >= minThreshGreen)"><i class="fa fa-exclamation-circle fa-2x text-warning" aria-hidden="true"></i></td>
                <td *ngIf="!(x.actionStatus >= minThreshYellow) && !(x.actionStatus >= minThreshGreen)"><i class="fa fa-times-circle fa-2x text-danger" aria-hidden="true"></i></td>
              </tr>
              <tr>
                <td><strong>Overall</strong></td>
                <td *ngIf="department.overallAction() >= minThreshGreen"><i class="fa fa-check-circle fa-2x text-success" aria-hidden="true"></i></td>
                <td *ngIf="department.overallAction() >= minThreshYellow && !(department.overallAction() >= minThreshGreen)"><i class="fa fa-exclamation-circle fa-2x text-warning" aria-hidden="true"></i></td>
                <td *ngIf="!(department.overallAction() >= minThreshYellow) && !(department.overallAction() >= minThreshGreen)"><i class="fa fa-times-circle fa-2x text-danger" aria-hidden="true"></i></td>
              </tr>

              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>
