<div class="Header_bar">
    <div class="Header_bar__wrap--inner">
        <div class="logo"></div>
    </div>
</div>
<app-status-alert [message]="alertMessage?.message" [success]="alertMessage?.type === alertMessageType.Success"
                  [show]="alertMessage"></app-status-alert>
<div class="Page-top__wrap--w_sub_header--no-paddng">
    <div class="Full-page__wrap--inner">
        <app-view-response-plan></app-view-response-plan>
        <div class="Container Grey" *ngIf='tmpToken && anonymousId'>
            <h3>{{"DIRECTOR_DASHBOARD.PLAN_APPROVAL" | translate}}</h3>

            <div class="row Spaced">
                <div class="col-lg-5" *ngIf='approvalPartner'>
                    <div class="row Small-spaced">
                        <div class="col-lg-5">
                            <p><b>{{"RESPONSE_PLANS.HOME.PARTNERS" | translate}}</b></p>
                        </div>
                    </div>
                    <!-- Plan approval row -->
                    <div class="row Line-row S-small-spaced" *ngFor="let partner of approvalPartner">
                        <div class="col-lg-5">
                            <p>{{partner}} <span *ngIf="partner == whoApprove">({{"DIRECTOR_DASHBOARD.YOU" | translate}})</span></p>
                        </div>
                        <div class="col-lg-5">
                            <p class="text-muted">{{"RESPONSE_PLANS.HOME.WAITING_APPROVAL" | translate}}<i class="fa fa-check-circle"
                                                                          aria-hidden="true"></i></p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-1" *ngIf='approvalPartner'></div>
                <div class="col-lg-5" *ngIf='approvalDirectors'>
                    <div class="row Small-spaced">
                        <div class="col-lg-5">
                            <p><b>{{"RESPONSE_PLANS.HOME.DIRECTORS" | translate}}</b></p>
                        </div>
                    </div>
                    <!-- Plan approval row -->
                    <div class="row Line-row S-small-spaced" *ngFor="let director of approvalDirectors">
                        <div class="col-lg-5">
                            <p>{{director}} <span *ngIf="director == whoApprove">({{"DIRECTOR_DASHBOARD.YOU" | translate}})</span></p>
                        </div>
                        <div class="col-lg-5">
                            <p class="text-muted">{{"RESPONSE_PLANS.HOME.WAITING_APPROVAL" | translate}}<i class="fa fa-check-circle"
                                                                          aria-hidden="true"></i></p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-1" *ngIf='approvalDirectors'></div>
            </div>
            <div class="Form-submit__wrapper">
                <button class="btn btn-success btn-continue" (click)=approvePlan(2)>{{"DIRECTOR_DASHBOARD.APPROVE_PLAN" | translate}}</button>
                <button class="btn btn-danger btn-continue" (click)=rejectPlan(true)>{{"DIRECTOR_DASHBOARD.REJECT_PLAN" | translate}}</button>
            </div>
        </div>
        <div class="Container Blue Bordered" *ngIf="rejectMsg && tmpToken && anonymousId">
            <b>{{"DIRECTOR_DASHBOARD.REJECT_PLAN_CONFIRMATION" | translate}}</b>
            <div class="row Small-spaced">
                <div class="col-sm-10">
                    <textarea name="n-Done" id="n-Done" cols="30" rows="5" class="form-control" #note></textarea>
                </div>
                <div class="col-sm-2">
                    <div class="row">
                        <div class="col-sm-12">
                            <button class="btn btn-primary Full" (click)=approvePlan(3,note.value)>{{ "GLOBAL.CONFIRM" | translate}}</button>
                        </div>
                    </div>
                    <div class="row Small-spaced">
                        <div class="col-sm-12">
                            <a href="javascript:void(0)" class="btn btn-outline-gray Full"
                               (click)=rejectPlan(false)>{{ "GLOBAL.CANCEL" | translate}}</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
